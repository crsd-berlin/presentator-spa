(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee220a4e"],{"097d":function(e,t,s){"use strict";var i=s("5ca1"),a=s("8378"),r=s("7726"),o=s("ebd6"),n=s("bcaa");i(i.P+i.R,"Promise",{finally:function(e){var t=o(this,a.Promise||r.Promise),s="function"==typeof e;return this.then(s?function(s){return n(t,e()).then(function(){return s})}:e,s?function(s){return n(t,e()).then(function(){throw s})}:e)}})},"1efe":function(e,t,s){"use strict";s.d(t,"a",function(){return o});var i=s("9242"),a=s("9300"),r=s("dd93");class o extends i["a"]{load(e){e=e||{},super.load(e),this.projectId=r["a"].isEmpty(e.projectId)?null:e.projectId,this.order=r["a"].isEmpty(e.order)?1:e.order<<0,this.title=r["a"].isEmpty(e.title)?"":e.title,this.description=r["a"].isEmpty(e.description)?"":e.description,r["a"].isArray(e.assets)?this.assets=a["a"].createInstances(e.assets):this.assets=this.assets||[]}}},"795d":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"preview-container"},[e.isLoadingAssets?[s("div",{staticClass:"flex-fill-block"}),e._m(0)]:e._e(),e.isLoadingAssets||e.hasAssets?e._e():[s("div",{staticClass:"flex-fill-block"}),s("div",{staticClass:"block scroll-block txt-center p-base"},[e._m(1),s("h4",[e._v(e._s(e.$t("No guideline assets to show.")))])])],!e.isLoadingAssets&&e.hasAssets?s("div",{staticClass:"guideline-sections-list scroll-block p-base"},[s("h3",{staticClass:"m-t-0 m-b-base"},[e._v(e._s(e.$t("{projectTitle} guideline",{projectTitle:e.project.title})))]),e._l(e.orderedGuidelineSections,function(t){return t.assets.length>0?s("guideline-section-preview",{key:t.id,attrs:{section:t}}):e._e()})],2):e._e(),s("div",{staticClass:"flex-fill-block"}),s("preview-bar",{attrs:{project:e.project,projectLink:e.projectLink}})],2)},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"block txt-center"},[s("span",{staticClass:"loader loader-lg loader-blend"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("figure",{staticClass:"mockup m-b-small"},[s("div",{staticClass:"mockup-bg"}),s("div",{staticClass:"browser secondary"}),s("div",{staticClass:"browser primary"},[s("i",{staticClass:"fe fe-book-open"})])])}],r=(s("ac6a"),s("097d"),s("55dd"),s("ade3")),o=s("2f62"),n=s("f744"),l=s("9c86"),c=s("ba5d"),d=s("1efe"),p=s("ae26"),u=s("db9e");s("3d48");function g(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,i)}return s}function h(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?g(s,!0).forEach(function(t){Object(r["a"])(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):g(s).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var v={name:"preview-guideline",props:{project:{type:l["a"],required:!0},projectLink:{type:c["a"],required:!0}},components:{"guideline-section-preview":p["a"],"preview-bar":u["a"]},data(){return{isLoadingAssets:!1,guidelineSections:[],isPreviewBarActive:!0}},computed:h({},Object(o["d"])({previewToken:e=>e.preview.previewToken}),{orderedGuidelineSections(){return this.guidelineSections.slice().sort((e,t)=>e["order"]-t["order"])},hasAssets(){for(let e in this.guidelineSections)if(this.guidelineSections[e].assets&&this.guidelineSections[e].assets.length>0)return!0;return!1}}),activated(){this.$setDocumentTitle(()=>this.$t("{projectTitle} guideline",{projectTitle:this.project.title}))},beforeMount(){this.loadAssets()},methods:{loadAssets(){this.isLoadingAssets||(this.isLoadingAssets=!0,n["a"].Previews.getAssets(this.previewToken).then(e=>{this.guidelineSections=d["a"].createInstances(e.data)}).catch(e=>{this.$errResponseHandler(e)}).finally(()=>{this.isLoadingAssets=!1}))}}},f=v,m=s("2877"),b=Object(m["a"])(f,i,a,!1,null,null,null);t["default"]=b.exports},9300:function(e,t,s){"use strict";s.d(t,"a",function(){return o});s("28a5");var i=s("9242"),a=s("dd93");const r=["png","jpg","jpeg","svg","bmp"];class o extends i["a"]{load(e){e=e||{},super.load(e),this.guidelineSectionId=a["a"].isEmpty(e.guidelineSectionId)?null:e.guidelineSectionId,this.type=a["a"].isEmpty(e.type)?"file":e.type,this.order=a["a"].isEmpty(e.order)?1:e.order,this.hex=a["a"].isEmpty(e.hex)?"":e.hex,this.title=a["a"].isEmpty(e.title)?"":e.title,this.file=a["a"].isEmpty(e.file)?{}:e.file}get isFile(){return"file"===this.type}get isColor(){return"color"===this.type}get contrastHex(){return this.isColor?a["a"].getContrastHex(this.hex):""}get rgb(){return a["a"].hexToRgb(this.hex)}get fileExtension(){return this.isFile&&this.file.original?this.file.original.split(".").pop():""}get isImage(){return this.isFile&&this.file.original&&r.indexOf(this.fileExtension)>=0}getFileUrl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"original";return this.file[e]||this.file["original"]||""}}},"9c86":function(e,t,s){"use strict";s.d(t,"a",function(){return r});var i=s("9242"),a=s("dd93");class r extends i["a"]{load(e){e=e||{},super.load(e),this.title=a["a"].isEmpty(e.title)?"":e.title,this.archived=a["a"].isEmpty(e.archived)?0:e.archived<<0,this.featuredScreen=a["a"].isEmpty(e.featuredScreen)?{}:e.featuredScreen}getFeaturedScreen(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"original";return this.featuredScreen[e]||this.featuredScreen["original"]||""}get isArchived(){return!!this.archived}}},a5b8:function(e,t,s){"use strict";var i=s("d8e8");function a(e){var t,s;this.promise=new e(function(e,i){if(void 0!==t||void 0!==s)throw TypeError("Bad Promise constructor");t=e,s=i}),this.resolve=i(t),this.reject=i(s)}e.exports.f=function(e){return new a(e)}},ae26:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"guideline-section"},[s("header",{staticClass:"section-header"},[s("h5",{staticClass:"title"},[e._v(e._s(e.section.title))]),e.section.description?[e._v("\n            ("),s("div",{staticClass:"description"},[e._v(e._s(e.section.description))]),e._v(")\n        ")]:e._e(),s("div",{staticClass:"flex-fill-block"}),s("div",{staticClass:"ctrl-item toggle-ctrl",on:{click:function(t){return t.preventDefault(),e.toggleSection()}}},[e.collapsed?[s("span",{staticClass:"txt m-r-5 txt-default"},[e._v(e._s(e.$t("Expand")))]),s("i",{staticClass:"fe fe-chevron-down"})]:[s("span",{staticClass:"txt m-r-5"},[e._v(e._s(e.$t("Collapse")))]),s("i",{staticClass:"fe fe-chevron-up"})]],2)],2),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],staticClass:"section-content"},[s("div",{staticClass:"boxes-list assets-list"},e._l(e.orderedAssets,function(e){return s("asset-box-preview",{key:e.id,attrs:{asset:e}})}),1)])])},a=[],r=(s("55dd"),s("dd93")),o=s("1efe"),n=s("9300"),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"box box-card box-compact",class:{"box-color":e.asset.isColor},on:{mouseleave:function(t){!e.$refs.assetDropdown||e.$refs.assetDropdown.hide()}}},[s("figure",{staticClass:"box-thumb",style:{background:e.asset.hex}},[e.asset.isFile?[s("div",{staticClass:"crop-wrapper"},[e.asset.isImage?s("img",{staticClass:"img",attrs:{src:e.asset.getFileUrl("medium"),alt:e.asset.title}}):s("span",{staticClass:"img img-alt"},[e._v(e._s(e.asset.fileExtension))])])]:e._e(),s("div",{staticClass:"thumb-overlay"},[s("div",{staticClass:"box-ctrl handle top-right"},[s("i",{staticClass:"fe fe-more-horizontal",style:{color:e.asset.isColor?e.asset.contrastHex:null}}),s("toggler",{ref:"assetDropdown",staticClass:"dropdown dropdown-sm"},[e.asset.isFile?s("a",{staticClass:"dropdown-item",attrs:{href:e.asset.getFileUrl(),tabindex:"-1",download:"",target:"_blank",rel:"noopener"}},[s("i",{staticClass:"fe fe-download"}),s("span",{staticClass:"txt"},[e._v(e._s(e.$t("Download")))])]):e._e(),e.asset.isColor?s("div",{staticClass:"dropdown-item",on:{click:function(t){t.preventDefault(),e.copyToClipboard(e.asset.hex.toUpperCase())}}},[s("i",{staticClass:"fe fe-copy"}),s("span",{staticClass:"txt"},[e._v(e._s(e.$t("Copy HEX")))])]):e._e()])],1)])],2),s("div",{staticClass:"box-content"},[e.asset.isFile?[s("a",{staticClass:"title",attrs:{target:"_blank",rel:"noopener",href:e.asset.getFileUrl(),title:e.$t("Open in new tab")}},[e._v(e._s(e.asset.title))]),s("div",{staticClass:"meta"},[s("div",{staticClass:"meta-item txt-uppercase"},[e._v(e._s(e.asset.fileExtension))]),e.asset.isImage&&e.assetWidth>0&&e.assetHeight>0?s("div",{staticClass:"meta-item"},[e._v("\n                    "+e._s(e.assetWidth)+"x"+e._s(e.assetHeight)+"\n                ")]):e._e()])]:[s("div",{staticClass:"title txt-uppercase",attrs:{title:e.$t("Copy to clipboard")},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.copyToClipboard(e.asset.hex.toUpperCase())}}},[e._v(e._s(e.asset.hex))]),s("div",{staticClass:"meta"},[s("div",{staticClass:"meta-item"},[e._v("rgb("+e._s(e.asset.rgb.r)+", "+e._s(e.asset.rgb.g)+", "+e._s(e.asset.rgb.b)+")")])])]],2)])},c=[],d={name:"asset-box-preview",props:{asset:{type:n["a"],required:!0}},data(){return{assetWidth:0,assetHeight:0}},mounted(){this.asset.isImage&&r["a"].loadImage(this.asset.getFileUrl()).then(e=>{this.assetWidth=e.width,this.assetHeight=e.height})},methods:{copyToClipboard(e){r["a"].copyToClipboard(e)?this.$toast(this.$t("Successfully copied {text} to clipboard.",{text:e})):this.$toast(this.$t("Failed copying {text} to clipboard.",{text:e}),"danger")}}},p=d,u=s("2877"),g=Object(u["a"])(p,l,c,!1,null,null,null),h=g.exports,v={name:"guideline-section-preview",props:{section:{type:o["a"],required:!0}},components:{"asset-box-preview":h},data(){return{collapsed:!1}},computed:{orderedAssets(){return this.section.assets.slice().sort((e,t)=>e["order"]-t["order"])}},methods:{toggleSection(){this.collapsed=!this.collapsed}}},f=v,m=Object(u["a"])(f,i,a,!1,null,null,null);t["a"]=m.exports},ba5d:function(e,t,s){"use strict";s.d(t,"a",function(){return o});var i=s("9242"),a=s("72a1"),r=s("dd93");class o extends i["a"]{load(e){e=e||{},super.load(e),this.projectId=r["a"].isEmpty(e.projectId)?null:e.projectId,this.slug=r["a"].isEmpty(e.slug)?"":e.slug,this.passwordProtected=!!e.passwordProtected,this.allowComments=!!e.allowComments,this.allowGuideline=!!e.allowGuideline,r["a"].isArray(e.prototypes)?this.prototypes=a["a"].createInstances(e.prototypes):this.prototypes=this.prototypes||[]}get baseUrl(){var e=r["a"].getNestedVal(window,"location.origin","");return r["a"].getNestedVal(window,"location.href","").indexOf("/#/")>0&&(e+="/#"),e=e.endsWith("/")?e.substring(0,e.length-1):e,e}get fullUrl(){return this.baseUrl+"/"+this.slug}get prototypeIds(){var e=[];for(let t in this.prototypes)this.prototypes[t].id&&e.push(this.prototypes[t].id);return e}}},bcaa:function(e,t,s){var i=s("cb7c"),a=s("d3f4"),r=s("a5b8");e.exports=function(e,t){if(i(e),a(t)&&t.constructor===e)return t;var s=r.f(e),o=s.resolve;return o(t),s.promise}},db9e:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"floating-bar preview-bar",class:{active:e.isActive}},[s("div",{staticClass:"visibility-toggle",on:{click:function(t){return t.preventDefault(),e.toggle()}}},[s("span",{staticClass:"txt"},[e._v(e._s(e.isActive?e.$t("Hide"):e.$t("Show")))])]),s("div",{staticClass:"nav nav-left"},[e._t("left")],2),s("div",{staticClass:"nav nav-center"},[e.projectLink.allowGuideline?s("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:e.$t("Guideline (G)"),expression:"$t('Guideline (G)')",modifiers:{top:!0}},{name:"shortcut",rawName:"v-shortcut.71",value:e.selfClick,expression:"selfClick",modifiers:{71:!0}}],staticClass:"ctrl-item ctrl-item-circle ctrl-item-warning",attrs:{to:{name:"preview-guideline",params:{slug:e.projectLink.slug},query:{}},"active-class":"highlight"}},[s("i",{staticClass:"fe fe-book-open"})]):e._e(),s("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:e.$t("Preview mode (P)"),expression:"$t('Preview mode (P)')",modifiers:{top:!0}},{name:"shortcut",rawName:"v-shortcut.80",value:e.selfClick,expression:"selfClick",modifiers:{80:!0}}],staticClass:"ctrl-item ctrl-item-circle ctrl-item-success",attrs:{to:{name:"preview-prototype",params:Object.assign({},e.$route.params,{slug:e.projectLink.slug,prototypeId:e.activePrototypeId}),query:Object.assign({},e.$route.query,{mode:"preview"})},"exact-active-class":"highlight"}},[s("i",{staticClass:"fe fe-eye"})]),e.projectLink.allowComments?s("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:e.$t("Comments mode (C)"),expression:"$t('Comments mode (C)')",modifiers:{top:!0}},{name:"shortcut",rawName:"v-shortcut.67",value:e.selfClick,expression:"selfClick",modifiers:{67:!0}}],staticClass:"ctrl-item ctrl-item-circle ctrl-item-danger",attrs:{to:{name:"preview-prototype",params:Object.assign({},e.$route.params,{slug:e.projectLink.slug,prototypeId:e.activePrototypeId}),query:Object.assign({},e.$route.query,{mode:"comments"})},"exact-active-class":"highlight"}},[e.activeUnreadComments.length?s("span",{staticClass:"beacon beacon-danger"}):e._e(),s("i",{staticClass:"fe fe-message-circle"})]):e._e()],1),s("div",{staticClass:"nav nav-right"},[e._t("right"),s("div",{staticClass:"ctrl-item ctrl-item-circle ctrl-item-settings"},[s("div",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:e.$t("Preview info"),expression:"$t('Preview info')",modifiers:{top:!0}}]},[s("i",{staticClass:"fe fe-info"})]),s("preview-info-popover",{ref:"projectInfoPopover",staticClass:"transform-bottom-right",attrs:{project:e.project}})],1)],2)])},a=[],r=(s("ac6a"),s("ade3")),o=s("2f62"),n=s("0abc"),l=s("3d48"),c=s("9c86"),d=s("ba5d"),p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("toggler",{staticClass:"popover popover-sm preview-info-popover",attrs:{hideOnChildClick:!1}},[s("div",{staticClass:"content m-b-small txt-center"},[s("p",[s("strong",[e._v(e._s(e.project.title))])]),e.$getAppConfig("VUE_APP_PROJECT_URL")?s("p",{staticClass:"txt-hint txt-small"},[s("i18n",{attrs:{path:"Presented with {projectLink}."}},[s("a",{attrs:{place:"projectLink",href:e.$getAppConfig("VUE_APP_PROJECT_URL"),target:"_blank",rel:"noopener"}},[e._v("Presentator")])])],1):e._e(),s("div",{staticClass:"clearfix m-t-small"}),s("language-select")],1)])},u=[],g=s("f7ef"),h={name:"preview-info-popover",components:{"language-select":g["a"]},props:{project:{type:c["a"],required:!0}}},v=h,f=s("2877"),m=Object(f["a"])(v,p,u,!1,null,null,null),b=m.exports;function C(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,i)}return s}function _(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?C(s,!0).forEach(function(t){Object(r["a"])(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):C(s).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var w={name:"preview-bar",components:{"preview-info-popover":b},props:{project:{type:c["a"],required:!0},projectLink:{type:d["a"],required:!0}},data(){return{isActive:!0}},computed:_({},Object(o["d"])({activePrototypeId:e=>e.prototypes.activePrototypeId,activeScreenId:e=>e.screens.activeScreenId}),{},Object(o["c"])({getUnreadCommentsForScreen:"notifications/getUnreadCommentsForScreen"}),{activeUnreadComments(){return this.getUnreadCommentsForScreen(this.activeScreenId)}}),mounted(){var e=l["a"].getItem(n["a"].get("VUE_APP_PREVIEW_BAR_VISIBLITY_STORAGE_KEY"),!0);e?this.show():this.hide()},methods:{show(){this.isActive=!0,l["a"].setItem(n["a"].get("VUE_APP_PREVIEW_BAR_VISIBLITY_STORAGE_KEY"),!0),this.$emit("show")},hide(){this.isActive=!1,l["a"].setItem(n["a"].get("VUE_APP_PREVIEW_BAR_VISIBLITY_STORAGE_KEY"),!1),this.$emit("hide")},toggle(){this.isActive?this.hide():this.show()},goToGuideline(){this.$router.push({name:"preview-guideline",params:{slug:this.projectLink.slug}})},selfClick(e,t){t&&t.click()}}},y=w,x=Object(f["a"])(y,i,a,!1,null,null,null);t["a"]=x.exports},f7ef:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"languages-select",class:{loading:e.isChanging}},[s("div",{staticClass:"selected-language"},[s("span",{staticClass:"txt language-title"},[e._v(e._s(e.activeLanguageTitle))]),e._v("\n        ("),s("span",{staticClass:"txt language-code"},[e._v(e._s(e.activeLanguageCode))]),e._v(")\n    ")]),s("toggler",{staticClass:"dropdown dropdown-sm"},e._l(e.languages,function(t,i){return s("div",{key:"language_"+i,staticClass:"dropdown-item",class:{active:e.activeLanguageCode==i},on:{click:function(t){return t.preventDefault(),e.changeLanguage(i)}}},[s("small",{staticClass:"label language-code m-r-5",class:e.activeLanguageCode==i?"label-transp-primary":"label-light-border"},[e._v(e._s(i))]),s("span",{staticClass:"txt language-title"},[e._v(e._s(t))])])}),0)],1)},a=[],r=(s("097d"),s("9225")),o={name:"languages-select",data(){return{isChanging:!1,languages:Object.assign({},r["c"])}},watch:{"$i18n.locale":function(e,t){"function"===typeof document._titleFunc&&this.$setDocumentTitle(document._titleFunc)}},computed:{activeLanguageCode(){return this.$i18n.locale},activeLanguageTitle(){return this.languages[this.activeLanguageCode]}},methods:{changeLanguage(e){this.isChanging=!0,Object(r["a"])(e).finally(()=>{this.isChanging=!1})}}},n=o,l=s("2877"),c=Object(l["a"])(n,i,a,!1,null,null,null);t["a"]=c.exports}}]);